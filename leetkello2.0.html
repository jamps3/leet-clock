<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Leet Clock</title>
  <style>
    :root {
      --bg-color: black;
      --text-color: lime;
    }
    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: monospace;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      transition: background-color 0.5s, color 0.5s;
    }
    svg {
      background-color: transparent;
    }
    .background {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
      background: radial-gradient(circle, rgba(0,255,0,0.2) 0%, rgba(0,0,0,1) 100%);
      animation: pulse 5s infinite;
    }
    @keyframes pulse {
      0% { opacity: 0.9; }
      50% { opacity: 0.5; }
      100% { opacity: 0.9; }
    }
    #quote {
      color: var(--text-color);
      font-size: 1rem;
      text-align: center;
      margin-top: 1rem;
    }
    #digital {
      font-size: 1.5rem;
      margin-top: 1rem;
      color: var(--text-color);
    }
    #toggleTheme, #toggleMode {
      position: absolute;
      top: 10px;
      background: none;
      border: 1px solid var(--text-color);
      color: var(--text-color);
      padding: 5px 10px;
      font-family: monospace;
      cursor: pointer;
    }
    #toggleTheme {
      right: 10px;
    }
    #toggleMode {
      left: 10px;
    }
    #startup {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: black;
      color: lime;
      font-size: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      animation: fadeOut 1s forwards;
    }
    @keyframes fadeOut {
      0% { opacity: 1; }
      90% { opacity: 1; }
      100% { opacity: 0; visibility: hidden; }
    }
  </style>
</head>
<body>
  <div id="startup">LOADING . . . 1337 MODE INITIALIZING</div>
  <div class="background"></div>
  <button id="toggleTheme">Toggle Theme</button>
  <button id="toggleMode">Leet Mode</button>
  <svg id="leetClock" width="1024" height="768" viewBox="0 0 400 400">
    <circle cx="200" cy="200" r="180" stroke="lime" stroke-width="4" fill="none" />
    <g id="labels" fill="lime" font-family="monospace" text-anchor="middle" dominant-baseline="middle"></g>
    <line id="minuteHand" x1="200" y1="200" x2="200" y2="50" stroke="lime" stroke-width="3" style="transition: all 0.5s ease;" />
    <line id="hourHand" x1="200" y1="200" x2="200" y2="100" stroke="lime" stroke-width="6" style="transition: all 0.5s ease;" />
    <circle cx="200" cy="200" r="5" fill="lime" />
  </svg>
  <div id="digital"></div>
  <div id="quote"></div>
  <audio id="sound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>
  <script>
    const centerX = 200;
    const centerY = 200;
    let mode = 'leet';

    const modeSettings = {
      leet: { hours: 13, minutes: 37, label: "Leet time", hourFont: 12, minuteFont: 8 },
      real: { hours: 24, minutes: 60, label: "Real time", hourFont: 14, minuteFont: 10 },
      sata: { hours: 100, minutes: 100, label: "Sata time", hourFont: 8, minuteFont: 8 },
    };

    const labelGroup = document.getElementById("labels");

    function drawLabels(hourCount, minuteCount) {
      labelGroup.innerHTML = '';
      const hourRadius = 150;
      const minuteRadius = 170;
      const settings = modeSettings[mode];
      for (let i = 0; i < hourCount; i++) {
        const angle = ((360 / hourCount) * i - 90) * (Math.PI / 180);
        const x = centerX + hourRadius * Math.cos(angle);
        const y = centerY + hourRadius * Math.sin(angle);
        const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
        text.setAttribute("x", x);
        text.setAttribute("y", y);
        text.setAttribute("font-size", settings.hourFont);
        text.textContent = i.toString();
        labelGroup.appendChild(text);
      }
      for (let i = 0; i < minuteCount; i++) {
        const angle = ((360 / minuteCount) * i - 90) * (Math.PI / 180);
        const x = centerX + minuteRadius * Math.cos(angle);
        const y = centerY + minuteRadius * Math.sin(angle);
        const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
        text.setAttribute("x", x);
        text.setAttribute("y", y);
        text.setAttribute("font-size", settings.minuteFont);
        text.textContent = i.toString();
        labelGroup.appendChild(text);
      }
    }

    function updateClock() {
      const now = new Date();
      const realHours = now.getHours();
      const realMinutes = now.getMinutes();
      const realSeconds = now.getSeconds();

      const secondsInDay = 24 * 60 * 60;
      const nowInSeconds = realHours * 3600 + realMinutes * 60 + realSeconds;
      const fractionOfDay = nowInSeconds / secondsInDay;

      const settings = modeSettings[mode];
      const hourCount = settings.hours;
      const minuteCount = settings.minutes;
      const totalMinutes = fractionOfDay * (hourCount * minuteCount);
      const customHour = Math.floor(totalMinutes / minuteCount) % hourCount;
      const customMinute = Math.floor(totalMinutes % minuteCount);

      const minuteAngle = (customMinute / minuteCount) * 360;
      const hourAngle = ((customHour + customMinute / minuteCount) / hourCount) * 360;

      const setHand = (id, angleDeg, length) => {
        const angleRad = (angleDeg - 90) * (Math.PI / 180);
        const x2 = centerX + length * Math.cos(angleRad);
        const y2 = centerY + length * Math.sin(angleRad);
        const hand = document.getElementById(id);
        hand.setAttribute("x2", x2);
        hand.setAttribute("y2", y2);
      };

      setHand("minuteHand", minuteAngle, 150);
      setHand("hourHand", hourAngle, 100);

      document.getElementById("digital").textContent = `${settings.label}: ${customHour.toString().padStart(2, '0')}:${customMinute.toString().padStart(2, '0')}`;

      if (realHours === 13 && realMinutes === 37 && realSeconds === 0) {
        document.getElementById("sound").play();
        document.getElementById("quote").textContent = "ðŸŽ‰ 13:37 Achieved! Stay leet. ðŸŽ‰";
      }
    }

    function updateQuote() {
      const quotes = [
        "All your base are belong to us.",
        "I'm in your clock, showing your time.",
        "Leetness is a mindset.",
        "Hack the planet.",
        "There is no spoon... just time.",
        "Kello 13:37 - aikaa olla leet."
      ];
      document.getElementById("quote").textContent = quotes[Math.floor(Math.random() * quotes.length)];
    }

    document.getElementById("toggleTheme").addEventListener("click", () => {
      const root = document.documentElement;
      const isDark = getComputedStyle(root).getPropertyValue('--bg-color').trim() === 'black';
      root.style.setProperty('--bg-color', isDark ? 'white' : 'black');
      root.style.setProperty('--text-color', isDark ? 'black' : 'lime');
    });

    document.getElementById("toggleMode").addEventListener("click", () => {
      const modes = Object.keys(modeSettings);
      const currentIndex = modes.indexOf(mode);
      mode = modes[(currentIndex + 1) % modes.length];
      drawLabels(modeSettings[mode].hours, modeSettings[mode].minutes);
      updateClock();
    });

    drawLabels(modeSettings[mode].hours, modeSettings[mode].minutes);
    updateQuote();
    setInterval(updateQuote, 3600000);
    setInterval(updateClock, 1000);
    updateClock();
  </script>
</body>
</html>
